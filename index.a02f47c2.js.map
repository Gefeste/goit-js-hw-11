{"mappings":"AACA,SAASA,EAAaC,GAEI,IAApBA,EAAIC,KAAKC,QACXC,SAASC,OAAOC,QAAQ,4EAG1B,OADeL,EAAIC,KACLK,KAAI,EAACC,aACjBA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAGA,yCACUN,WAAsBE,0FAGlBC,+DAGAC,kEAGGC,mEAGCC,gDAKlBC,KAAK,G,CChCT,MAAMC,EAAWC,SAASC,cAAc,cAClCC,EAAOF,SAASC,cAAc,YAC9BE,EAAQH,SAASC,cAAc,wBAClBD,SAASC,cAAc,gBAC/BG,iBAAiB,UAK5B,SAAgBC,GACdC,MAAMC,iBACNC,EAAO,EACPT,EAASU,QAAS,EAClB,MAAMC,EAAQP,EAAMQ,MACpBT,EAAKU,UAAY,GACjBC,EAASH,GAAOI,MAAMC,IAEpBb,EAAKU,UAAY7B,EAAagC,GAC9BhB,EAASU,QAAS,CAAK,IAGvBO,OAAMC,GAAOC,QAAQC,IAAI,QAASF,I,IAhBtClB,EAASK,iBAAiB,SAmC1B,WACEI,GAAQ,EACRK,EAASV,EAAMQ,MAAOH,GAAMM,MAAKM,GAAQlB,EAAKmB,mBAAmB,YAAatC,EAAaqC,K,IApC7F,IAAIZ,EAAO,EAmBX,SAASK,EAASH,EAAOY,EAAO,GAK5B,OADAJ,QAAQC,IAAI,IAAKT,GACVa,MAAM,qEAAgCb,kEAAsEY,iBAC9GR,MAAKC,IACF,IAAKA,EAAKS,GACN,MAAM,IAAIC,MAAMV,EAAKW,YAGzB,OAAOX,EAAKY,MAAM,G","sources":["src/createMarkup.js","src/index.js"],"sourcesContent":["\nfunction createMarkup(obj) {\n  // console.log(obj)\n  if (obj.hits.length === 0) {\n    Notiflix.Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n  }\n  const oblect = obj.hits;\n  return oblect.map(({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads\n  }) =>\n\n    `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>\n        `\n  ).join('');\n\n}\n// function onSearch(query) {\n//     const BASE_URL = 'https://pixabay.com/api/';\n//     const API_KEY = '33094767-bc88b030fc5c18ef153037b77';\n//     let page = 1;\n//     return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`)\n//         .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.statusText)\n//             }\n\n//             return resp.json()\n//         })\n// }\n\n\n\n\nexport { createMarkup };","import { createMarkup } from \"./createMarkup.js\";\n// import Notiflix from 'notiflix';\n\nconst loadMore = document.querySelector('.load-more')\nconst list = document.querySelector('.gallery');\nconst input = document.querySelector('[name=\"searchQuery\"]');\nconst submitForm = document.querySelector('.search-form');\nsubmitForm.addEventListener('submit', onLoad);\nloadMore.addEventListener('click', onClick)\nlet page = 1;\n\n\nfunction onLoad(eve) {\n  event.preventDefault();\n  page = 1\n  loadMore.hidden = true\n  const query = input.value;\n  list.innerHTML = \"\";\n  onSearch(query).then((resp) => {\n    // console.log(resp)\n    list.innerHTML = createMarkup(resp)\n    loadMore.hidden = false\n    // console.log(resp)\n  }\n  ).catch(err => console.log(\"ERROR\", err))\n};\n\n\nfunction onSearch(query, page = 1) {\n    const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '33094767-bc88b030fc5c18ef153037b77';\n  \n    console.log(\"1\", query)\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            }\n\n            return resp.json()\n        })\n}\n\nfunction onClick() {\n  page += 1;\n  onSearch(input.value, page).then(data => list.insertAdjacentHTML(\"beforeend\", createMarkup(data)))\n  // console.log(page)\n  // console.log(query)\n};\n// list.insertAdjacentHTML(\"beforeend\", createMarkup(data))\n// function createMarkupCountry(arr) {\n    // return arr.map(({\n    //         name: {\n    //             official\n    //         },\n    //         flags: {\n    //             svg\n    //         },\n    //     capital,\n    //     population,\n    //     languages\n    // }) =>\n        \n//         `\n//         <img src=\"${svg}\" width=\"50\" alt=\"flag\">\n//         <h1>${official}</h1>\n//         <p>Capital: ${capital}</p>\n//         <p>Population: ${population}</p>\n//                 <p>Languages: ${Object.values(languages)}</p>\n//         `\n//     ).join('')\n// }\n\n\n\n\n"],"names":["$fdd6bbb96af63f6e$export$24783e9f3a24abe4","obj","hits","length","Notiflix","Notify","failure","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$loadMore","document","querySelector","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$input","addEventListener","eve","event","preventDefault","$1f0dc3b9307be026$var$page","hidden","query","value","innerHTML","$1f0dc3b9307be026$var$onSearch","then","resp","catch","err","console","log","data","insertAdjacentHTML","page1","fetch","ok","Error","statusText","json"],"version":3,"file":"index.a02f47c2.js.map"}